/*! ki_admin */
function doFloatingTabLayout(parent){var parent=$(parent);var maxRowWidth=parent.width();parent.children("br").remove();parent.children("span").css("padding-right","");var spans=parent.children("span");var firstRow=[];var currentRowWidth=0;var currentSpanIndex=0;var currentSpan=undefined;while(currentSpanIndex<spans.length){currentSpan=$(spans[currentSpanIndex]);currentRowWidth+=currentSpan.outerWidth(true);if(currentRowWidth<=maxRowWidth){firstRow.push(currentSpan);}else{break;}currentSpanIndex++;}if(currentSpanIndex>=spans.length){return;}currentRowWidth=0;currentSpan.before("<br/>");var currentFirstRowIndex=0;while(currentSpanIndex<spans.length){currentSpan=$(spans[currentSpanIndex]);if(currentRowWidth>=maxRowWidth||currentFirstRowIndex>=firstRow.length){currentRowWidth=0;currentFirstRowIndex=0;currentSpan.before("<br/>");}var currentFirstRowSpan=$(firstRow[currentFirstRowIndex]);if(currentSpan.outerWidth(true)<currentFirstRowSpan.outerWidth(true)){var spansForColumn=[currentSpan];var spansForColumnTotalWidth=currentSpan.outerWidth(true);for(var temporaryCurrentSpanIndex=currentSpanIndex+1;temporaryCurrentSpanIndex<spans.length;temporaryCurrentSpanIndex++){var temporaryCurrentSpan=$(spans[temporaryCurrentSpanIndex]);if(spansForColumnTotalWidth+temporaryCurrentSpan.outerWidth(true)<=currentFirstRowSpan.outerWidth(true)){spansForColumn.push(temporaryCurrentSpan);spansForColumnTotalWidth+=temporaryCurrentSpan.outerWidth(true);}else{break;}}var difference=currentFirstRowSpan.outerWidth(true)-spansForColumnTotalWidth;spansForColumn[spansForColumn.length-1].css("padding-right",difference+"px");currentRowWidth+=spansForColumnTotalWidth;currentSpanIndex+=spansForColumn.length;currentFirstRowIndex++;}else{if(currentSpan.outerWidth(true)>currentFirstRowSpan.outerWidth(true)){var spanColumnsCount=0;var spanColumnsWidth=0;for(var temporaryCurrentFirstRowIndex=currentFirstRowIndex;temporaryCurrentFirstRowIndex<firstRow.length;temporaryCurrentFirstRowIndex++){var temporaryCurrentFirstRowSpan=$(firstRow[temporaryCurrentFirstRowIndex]);spanColumnsCount++;spanColumnsWidth+=temporaryCurrentFirstRowSpan.outerWidth(true);if(spanColumnsWidth>currentSpan.outerWidth(true)){break;}}if(spanColumnsWidth>currentSpan.outerWidth(true)){currentSpan.css("padding-right",spanColumnsWidth-currentSpan.outerWidth(true)+"px");}currentRowWidth+=spanColumnsWidth;currentSpanIndex++;currentFirstRowIndex+=spanColumnsCount;}else{currentRowWidth+=currentSpan.outerWidth(true);currentSpanIndex++;currentFirstRowIndex++;}}}}